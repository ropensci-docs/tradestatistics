<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tradestatistics">
<title>Basic usage • tradestatistics</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Basic usage">
<meta property="og:description" content="tradestatistics">
<meta property="og:image" content="https://docs.ropensci.org/tradestatistics/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">tradestatistics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">4.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/basic-usage.html">Basic usage</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/tradestatistics/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Basic usage</h1>
                        <h4 data-toc-skip class="author">Mauricio Vargas S.</h4>
            
            <h4 data-toc-skip class="date">2024-03-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/tradestatistics/blob/HEAD/vignettes/basic-usage.Rmd" class="external-link"><code>vignettes/basic-usage.Rmd</code></a></small>
      <div class="d-none name"><code>basic-usage.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette explains the functions within this package. The idea is to show how this package simplifies obtaining data from (api.tradestatistics.io)[<a href="https://api.tradestatistics.io" class="external-link uri">https://api.tradestatistics.io</a>].</p>
<p>To improve the presentation of the tables I shall use <code>tibble</code> besides <code>tradestatistics</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/tradestatistics/">tradestatistics</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="package-data">Package data<a class="anchor" aria-label="anchor" href="#package-data"></a>
</h2>
<div class="section level3">
<h3 id="available-tables">Available tables<a class="anchor" aria-label="anchor" href="#available-tables"></a>
</h3>
<p>Provided that this package obtains data from an API, it is useful to know which tables can be accessed:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">ots_tables</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16 × 3</span></span></span>
<span><span class="co">#&gt;    table             description                                          source</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> commodities       Commodities metadata (HS codes, 6 digits long)       UN Co…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> commodities_short Commodities metadata (HS codes, 4 digits long)       UN Co…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> countries         Countries metadata                                   UN Co…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> distances         Distance between countries, alongside continuity, c… CEPII…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> partners          Partners for a given year                            UN Co…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> reporters         Reporters for a given year                           UN Co…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> sections          Sections metadata (HS codes)                         UN Co…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> sections_colors   Colors for sections (i.e. useful to visualize data)  Open …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> rtas              Regional Trade Agreements per pair of countries and… Desig…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> tariffs           Most Favoured Nation tarrifs (Year, Reporter and Co… World…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> years             Minimum and maximum years with available data        Open …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> yc                Commodity trade at aggregated level (Year and Commo… Open …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> yr                Reporter trade at aggregated level (Year and Report… Open …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> yrc               Reporter trade at commodity level (Year, Reporter a… Open …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> yrp               Reporter-Partner trade at aggregated level (Year, R… Open …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> yrpc              Reporter-Partner trade at commodity level (Year, Re… Open …</span></span></code></pre></div>
<p>You might notice the tables have a pattern. The letters indicate the presence of columns that account for the level of detail in the data:</p>
<ul>
<li>
<code>y</code>: <em>y</em>ear column.</li>
<li>
<code>r</code>: <em>r</em>eporter column</li>
<li>
<code>p</code>: <em>p</em>artner column</li>
<li>
<code>c</code>: <em>c</em>ommodity column</li>
</ul>
<p>The most aggregated table is <code>yr</code> which basically says how many dollars each country exports and imports for a given year.</p>
<p>The less aggregated table is <code>yrpc</code> which says how many dollars of each of the 1,242 commodities from the Harmonized System each country exports to other countries and imports from other countries.</p>
<p>For the complete detail you can check <a href="https://tradestatistics.io" class="external-link">tradestatistics.io</a>.</p>
</div>
<div class="section level3">
<h3 id="country-codes">Country codes<a class="anchor" aria-label="anchor" href="#country-codes"></a>
</h3>
<p>The Package Functions section explains that you don’t need to memorize all ISO codes. The functions within this package are designed to match strings (i.e. “United States” or “America”) to valid ISO codes (i.e. “USA”).</p>
<p>Just as a reference, the table with all valid ISO codes can be accessed by running this:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">ots_countries</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 264 × 5</span></span></span>
<span><span class="co">#&gt;    country_iso country_name_english country_fullname_english continent_id</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> dza         Algeria              Algeria                             3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> ago         Angola               Angola                              3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> ben         Benin                Benin                               3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> bwa         Botswana             Botswana                            3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> bfa         Burkina Faso         Burkina Faso                        3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> bdi         Burundi              Burundi                             3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> cmr         Cameroon             Cameroon                            3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> cpv         Cape Verde           Cape Verde                          3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> caf         Central African Rep. Central African Rep.                3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> tcd         Chad                 Chad                                3</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 254 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: continent_name_english &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="commodity-codes">Commodity codes<a class="anchor" aria-label="anchor" href="#commodity-codes"></a>
</h3>
<p>The Package Functions section explains that you don’t need to memorize all HS codes. The functions within this package are designed to match strings (i.e. “apple”) to valid HS codes (i.e. “0808”).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">ots_commodities</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5,304 × 4</span></span></span>
<span><span class="co">#&gt;    commodity_code commodity_fullname_english section_code section_fullname_eng…¹</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 010121         Horses; live, pure-bred b… 01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 010129         Horses; live, other than … 01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 010130         Asses; live                01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 010190         Mules and hinnies; live    01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 010221         Cattle; live, pure-bred b… 01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 010229         Cattle; live, other than … 01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 010231         Buffalo; live, pure-bred … 01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 010239         Buffalo; live, other than… 01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 010290         Bovine animals; live, oth… 01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 010310         Swine; live, pure-bred br… 01           Live animals and anim…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5,294 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ abbreviated name: ¹​section_fullname_english</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="inflation-data">Inflation data<a class="anchor" aria-label="anchor" href="#inflation-data"></a>
</h3>
<p>This table is provided to be used with <code><a href="../reference/ots_gdp_deflator_adjustment.html">ots_gdp_deflator_adjustment()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">ots_gdp_deflator</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4,084 × 4</span></span></span>
<span><span class="co">#&gt;    country_iso  from    to gdp_deflator</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> abw          <span style="text-decoration: underline;">2</span>000  <span style="text-decoration: underline;">2</span>001        1.06 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> abw          <span style="text-decoration: underline;">2</span>001  <span style="text-decoration: underline;">2</span>002        1.05 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> abw          <span style="text-decoration: underline;">2</span>002  <span style="text-decoration: underline;">2</span>003        1.02 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> abw          <span style="text-decoration: underline;">2</span>003  <span style="text-decoration: underline;">2</span>004        1.02 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> abw          <span style="text-decoration: underline;">2</span>004  <span style="text-decoration: underline;">2</span>005        1.03 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> abw          <span style="text-decoration: underline;">2</span>005  <span style="text-decoration: underline;">2</span>006        1.03 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> abw          <span style="text-decoration: underline;">2</span>006  <span style="text-decoration: underline;">2</span>007        1.06 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> abw          <span style="text-decoration: underline;">2</span>007  <span style="text-decoration: underline;">2</span>008        1.05 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> abw          <span style="text-decoration: underline;">2</span>008  <span style="text-decoration: underline;">2</span>009        1.02 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> abw          <span style="text-decoration: underline;">2</span>009  <span style="text-decoration: underline;">2</span>010        0.993</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4,074 more rows</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="package-functions">Package functions<a class="anchor" aria-label="anchor" href="#package-functions"></a>
</h2>
<div class="section level3">
<h3 id="country-code">Country code<a class="anchor" aria-label="anchor" href="#country-code"></a>
</h3>
<p>The end user can use this function to find an ISO code by providing a country name. This works by implementing partial search.</p>
<p>Basic examples:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Single match with no replacement</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="fu"><a href="../reference/ots_country_code.html">ots_country_code</a></span><span class="op">(</span><span class="st">"Chile"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 5</span></span></span>
<span><span class="co">#&gt;   country_iso country_name_english country_fullname_english continent_id</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> chl         Chile                Chile                               5</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: continent_name_english &lt;chr&gt;</span></span></span>
<span></span>
<span><span class="co"># Single match with replacement</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="fu"><a href="../reference/ots_country_code.html">ots_country_code</a></span><span class="op">(</span><span class="st">"America"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 5</span></span></span>
<span><span class="co">#&gt;   country_iso country_name_english country_fullname_english         continent_id</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> usa         USA                  USA, Puerto Rico and US Virgin …            5</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: continent_name_english &lt;chr&gt;</span></span></span>
<span></span>
<span><span class="co"># Double match with no replacement</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="fu"><a href="../reference/ots_country_code.html">ots_country_code</a></span><span class="op">(</span><span class="st">"Germany"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 5</span></span></span>
<span><span class="co">#&gt;   country_iso country_name_english country_fullname_english         continent_id</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> deu         Germany              Germany (former Federal Republi…            2</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: continent_name_english &lt;chr&gt;</span></span></span></code></pre></div>
<p>The function <code><a href="../reference/ots_country_code.html">ots_country_code()</a></code> is used by <code><a href="../reference/ots_create_tidy_data.html">ots_create_tidy_data()</a></code> in a way that you can pass parameters like <code>ots_create_tidy_data(... reporters = "Chile" ...)</code> and it will automatically replace your input for a valid ISO in case there is a match. This will be covered in detail in the Trade Data section.</p>
</div>
<div class="section level3">
<h3 id="commodity-code">Commodity code<a class="anchor" aria-label="anchor" href="#commodity-code"></a>
</h3>
<p>The end user can find a code or a set of codes by looking for keywords for commodities or groups. The function <code><a href="../reference/ots_commodity_code.html">ots_commodity_code()</a></code> allows to search from the official commodities and groups in the Harmonized system:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="fu"><a href="../reference/ots_commodity_code.html">ots_commodity_code</a></span><span class="op">(</span>commodity <span class="op">=</span> <span class="st">" ShEEp "</span>, section <span class="op">=</span> <span class="st">" mEaT "</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 4</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4 variables: commodity_code &lt;chr&gt;, commodity_fullname_english &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   section_code &lt;chr&gt;, section_fullname_english &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="trade-data">Trade data<a class="anchor" aria-label="anchor" href="#trade-data"></a>
</h3>
<p>This function downloads data for a single year and needs (at least) some filter parameters according to the query type.</p>
<p>Here we cover aggregated tables to describe the usage.</p>
<div class="section level4">
<h4 id="bilateral-trade-at-commodity-level-year---reporter---partner---commodity-code">Bilateral trade at commodity level (Year - Reporter - Partner - Commodity Code)<a class="anchor" aria-label="anchor" href="#bilateral-trade-at-commodity-level-year---reporter---partner---commodity-code"></a>
</h4>
<p>If we want Chile-Argentina bilateral trade at community level in 2019:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yrpc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ots_create_tidy_data.html">ots_create_tidy_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>  reporters <span class="op">=</span> <span class="st">"chl"</span>,</span>
<span>  partners <span class="op">=</span> <span class="st">"arg"</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"yrpc"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">yrpc</span><span class="op">)</span></span></code></pre></div>
<p>We can pass two years or more, several reporters/partners, and filter by commodities with exact codes or code matching based on keywords:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note that here I'm passing Peru and not per which is the ISO code for Peru</span></span>
<span><span class="co"># The same applies to Brazil</span></span>
<span><span class="va">yrpc2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ots_create_tidy_data.html">ots_create_tidy_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fl">2018</span><span class="op">:</span><span class="fl">2019</span>,</span>
<span>  reporters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"chl"</span>, <span class="st">"Peru"</span>, <span class="st">"bol"</span><span class="op">)</span>,</span>
<span>  partners <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"arg"</span>, <span class="st">"Brazil"</span><span class="op">)</span>,</span>
<span>  commodities <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01"</span>, <span class="st">"food"</span><span class="op">)</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"yrpc"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The <code>yrpc</code> table returns some fields that deserve an explanation which can be seen at <a href="https://tradestatistics.io" class="external-link">tradestatistics.io</a>. This example is interesting because “01” return a set of commodities (all commodities starting with 01, which is the commodity group “Animals; live”), but “food” return all commodities with a matching description (“1601”, “1806”, “1904”, etc.). In addition, not all the requested commodities are exported from each reporter to each partner, therefore a warning is returned.</p>
</div>
<div class="section level4">
<h4 id="bilateral-trade-at-aggregated-level-year---reporter---partner">Bilateral trade at aggregated level (Year - Reporter - Partner)<a class="anchor" aria-label="anchor" href="#bilateral-trade-at-aggregated-level-year---reporter---partner"></a>
</h4>
<p>If we want Chile-Argentina bilateral trade at aggregated level in 2018 and 2019:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yrp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ots_create_tidy_data.html">ots_create_tidy_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fl">2018</span><span class="op">:</span><span class="fl">2019</span>,</span>
<span>  reporters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"chl"</span>, <span class="st">"per"</span><span class="op">)</span>,</span>
<span>  partners <span class="op">=</span> <span class="st">"arg"</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"yrp"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This table accepts different years, reporters and partners just like <code>yrpc</code>.</p>
</div>
<div class="section level4">
<h4 id="reporter-trade-at-commodity-level-year---reporter---commodity-code">Reporter trade at commodity level (Year - Reporter - Commodity Code)<a class="anchor" aria-label="anchor" href="#reporter-trade-at-commodity-level-year---reporter---commodity-code"></a>
</h4>
<p>If we want Chilean trade at commodity level in 2019 with respect to commodity “010121” which means “Horses; live, pure-bred breeding animals”:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yrc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ots_create_tidy_data.html">ots_create_tidy_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>  reporters <span class="op">=</span> <span class="st">"chl"</span>,</span>
<span>  commodities <span class="op">=</span> <span class="st">"010121"</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"yrc"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This table accepts different years, reporters and commodity codes just like <code>yrpc</code>.</p>
<p>All the variables from this table are documented at <a href="https://tradestatistics.io" class="external-link">tradestatistics.io</a>.</p>
</div>
<div class="section level4">
<h4 id="reporter-trade-at-aggregated-level-year---reporter">Reporter trade at aggregated level (Year - Reporter)<a class="anchor" aria-label="anchor" href="#reporter-trade-at-aggregated-level-year---reporter"></a>
</h4>
<p>If we want the aggregated trade of Chile, Argentina and Peru in 2018 and 2019:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ots_create_tidy_data.html">ots_create_tidy_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fl">2018</span><span class="op">:</span><span class="fl">2019</span>,</span>
<span>  reporters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"chl"</span>, <span class="st">"arg"</span>, <span class="st">"per"</span><span class="op">)</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"yr"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This table accepts different years and reporters just like <code>yrpc</code>.</p>
<p>All the variables from this table are documented at <a href="https://tradestatistics.io" class="external-link">tradestatistics.io</a>.</p>
</div>
<div class="section level4">
<h4 id="commodity-trade-at-aggregated-level-year---commodity-code">Commodity trade at aggregated level (Year - Commodity Code)<a class="anchor" aria-label="anchor" href="#commodity-trade-at-aggregated-level-year---commodity-code"></a>
</h4>
<p>If we want all commodities traded in 2019:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ots_create_tidy_data.html">ots_create_tidy_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"yc"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>If we want the traded values of the commodity “010121” which means “Horses; live, pure-bred breeding animals” in 2019:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yc2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ots_create_tidy_data.html">ots_create_tidy_data</a></span><span class="op">(</span></span>
<span>  years <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>  commodities <span class="op">=</span> <span class="st">"010121"</span>,</span>
<span>  table <span class="op">=</span> <span class="st">"yc"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This table accepts different years just like <code>yrpc</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="inflation-adjustment">Inflation adjustment<a class="anchor" aria-label="anchor" href="#inflation-adjustment"></a>
</h3>
<p>Taking the <code>yr</code> table from above, we can use <code><a href="../reference/ots_gdp_deflator_adjustment.html">ots_gdp_deflator_adjustment()</a></code> to convert dollars from 2018 and 2019 to dollars of 2000:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inflation</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ots_gdp_deflator_adjustment.html">ots_gdp_deflator_adjustment</a></span><span class="op">(</span><span class="va">yr</span>, reference_year <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">inflation</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
